# 周报  
## 1.关键点回归
跟着教程学习了热力图形式的关键点回归。以下是训练后的效果

![57745d8d9c861deb494d0e3b5c0aff9](https://github.com/user-attachments/assets/447486b8-165b-4d72-8ec4-a0818e2a5cc3)
![36349308d34b12c992fc248dd9ff329](https://github.com/user-attachments/assets/b5a3fdd4-f059-4df7-a03b-a5b010b8ca97)

![f0b59e9ba77eaaca82286c57c7e1b14](https://github.com/user-attachments/assets/8b280891-80da-485b-8450-ab421da72570)
![c168f03ee6f8374a019e22c75466386](https://github.com/user-attachments/assets/c488f6a9-1bfd-4ec8-81b4-60bee0d4ca26)


本周对关键点回归模型的代码进行了学习。

```c++

if __name__ == '__main__':
    device=torch.device('cuda' if torch.cuda.is_available() else 'cpu')
    net=Net().to(device)             // 将模型移动到GPU/CPU
    weights='params/net.pth'
    if os.path.exists(weights):
        net.load_state_dict(torch.load(weights))
        print('loading successfully')      //检查params/net.pth是否存在，若存在则加载权重
    opt=optim.Adam(net.parameters())        //Adam优化器
    loss_fun=nn.MSELoss()                   //均方误差损失
    dataset=MyDataset('data_center.txt')    //自定义数据集
    data_loader=DataLoader(dataset,batch_size=2,shuffle=True)   //batch_size=2：小批量训练

while True:                             //无限循环
    for i, (image, label) in enumerate(data_loader):
        image, label = image.to(device), label.to(device)    //数据移至设备
        out = net(image)                       // 前向传播
        train_loss = loss_fun(out, label)        //计算损失
        print(f'{epoch}-{i}-train_loss:{train_loss.item()}')   //打印损失
        opt.zero_grad()                      //梯度清零
        train_loss.backward()                 //反向传播
        opt.step()                           // 参数更新
    if epoch % 10 == 0:                      // 每10轮保存一次
        torch.save(net.state_dict(), f'params/net.pth')
    epoch += 1

```

```c++

def keep_image_size_open(path, size=(256, 256)):
    img = Image.open(path)                  //打开图像
    temp = max(img.size)                    //获取最长边
    mask = Image.new('RGB', (temp, temp), (0, 0, 0))          //创建黑色背景正方形
    mask.paste(img, (0, 0))                      //将原图粘贴到左上角
    mask = mask.resize(size)                      //缩放到目标尺寸
    return mask

def make_data_center_txt(xml_dir):
    with open('data_center.txt', 'a') as f:
        f.truncate(0)                      //清空文件
        path = r'data/images'               // 图像存储路径
        xml_names = os.listdir(xml_dir)     // 获取所有XML文件名
        for xml in xml_names:
            xml_path = os.path.join(xml_dir, xml)
            tree = ET.parse(xml_path)          //解析XML
            root = tree.getroot()
            image_path = root.find('path')        //获取图像路径（假设XML中有<path>标签）
            polygon = root.find('outputs/object/item/polygon')         //获取多边形顶点坐标
            data = []
            data_str = ''
            for i in polygon:               //遍历所有坐标点
                data.append(int(i.text))       //坐标转为整数
                data_str = data_str + ' ' + str(i.text)           //拼接为字符串
            data_str = os.path.join(path, image_path.text.split('\\')[-1]) + data_str
            f.write(data_str + '\n')               //生成最终行：图像路径 + 坐标（空格分隔）

if __name__ == '__main__':
    make_data_center_txt('data/xml')      // 处理data/xml下的所有XML文件
```
## 2.论文
本周阅读了李玮峰师兄的论文
1. 光学图像特征精细化提取：基于卷积神经网络（CNN）设计特征提取网络ULNet，用于空间目标姿态估计。
![5375bd00e08b0675ba3d05bc6e5f35b](https://github.com/user-attachments/assets/38bee5d3-637d-4574-99be-99091327429a)

2. ISAR图像特征增强：设计R2OFT网络（基于CycleGAN），通过跨域特征转换补全ISAR图像特征。提升特征提取精度。
![18c4692b18804a89e736b398746132c](https://github.com/user-attachments/assets/818db108-27d9-4e2f-ae69-a7965ce082cd)

3. 序列图像特征预测：提出RVD模型（结合ConvGRU和扩散模型），预测目标未来图像序列。
![947af4f1ea76af2a37afd7044aedfa7](https://github.com/user-attachments/assets/4e90d875-838d-4eb4-a772-88d4a7216762)



